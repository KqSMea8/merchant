webpackJsonp([1],{1e3:function(t,e,a){"use strict";(function(t){function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(100),r=s(i),o=a(229),n=s(o);e.default={name:"multiupload",data:function(){return{ViewImgUrl:"",visible:!1,uploadList:[],defaultList:[],newFile:"",uploadName:"image",otherFormData:{ssid:r.default.get("ssid")}}},props:["imagesList","uploadAPI","removeAPI"],methods:{handleView:function(t){this.ViewImgUrl=t.url,this.visible=!0},handleRemove:function(e){var a=this,s=this;t.ajax({url:s.removeAPI,type:"POST",dataType:"json",data:{ssid:r.default.get("ssid"),imageId:e.id}}).done(function(t){if(t)if(0==t.code){var s=a.uploadList;a.uploadList.splice(s.indexOf(e),1)}else n.default.showError({vm:a,data:t,errorMsg:""});else n.default.showError({vm:a,data:t,errorMsg:"请求失败"})}).fail(function(t,e,s){n.default.showError({vm:a,data:data,errorMsg:"服务器通讯失败"})})},handleSuccess:function(t,e,a){e.name="images-"+t.data,this.uploadList=this.$refs.upload.fileList,this.uploadList[this.uploadList.length-1].url=this.newFile,this.uploadList[this.uploadList.length-1].id=t.data},handleFormatError:function(t){this.$Notice.warning({title:"文件格式不正确",desc:"文件 "+t.name+" 格式不正确,请选择图片文件。"})},handleMaxSize:function(t){this.$Notice.warning({title:"文件过大",desc:"上传文件："+t.name+" 过大，请不要超过"+this.bytesToSize(1024*this.file_infro.maxSize)})},handleBeforeUpload:function(t){var e=this,a=this.uploadList.length<5;if(!a)return this.$Notice.warning({title:"最多只能上传5张图片"}),!1;if(window.FileReader&&t){var s=new FileReader;s.onloadend=function(t){e.newFile=t.target.result},s.readAsDataURL(t)}return a},bytesToSize:function(t){if(0===t)return"0 B";var e=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.floor(Math.log(t)/Math.log(1024));return(t/Math.pow(1024,a)).toPrecision(3)+" "+e[a]}},mounted:function(){this.uploadList=this.$refs.upload.fileList}}}).call(e,a(230))},1005:function(t,e){},1006:function(t,e,a){a(1005);var s=a(65)(a(1e3),a(1007),null,null);s.options.__file="E:\\BigCousin\\document\\预购宝\\merchant\\src\\views\\my_components\\upload\\multiupload.vue",s.esModule&&Object.keys(s.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),s.options.functional&&console.error("[vue-loader] multiupload.vue: functional components are not supported with templates, they should use render functions."),t.exports=s.exports},1007:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"multiupload"},[t._l(t.uploadList,function(e){return a("div",{staticClass:"uploads-upload-list"},["finished"===e.status?[a("img",{attrs:{src:e.url}}),t._v(" "),a("div",{staticClass:"uploads-upload-list-cover"},[a("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(a){t.handleView(e)}}}),t._v(" "),a("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(a){t.handleRemove(e)}}})],1)]:[e.showProgress?a("Progress",{attrs:{percent:e.percentage,"hide-info":""}}):t._e()]],2)}),t._v(" "),a("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"58px"},attrs:{"show-upload-list":!1,"default-file-list":t.imagesList,"on-success":t.handleSuccess,format:["jpg","jpeg","png"],"max-size":2048,data:t.otherFormData,"on-format-error":t.handleFormatError,"on-exceeded-size":t.handleMaxSize,"before-upload":t.handleBeforeUpload,multiple:"",type:"drag",action:t.uploadAPI,name:t.uploadName}},[a("div",{staticStyle:{width:"58px",height:"58px","padding-top":"10px","line-height":"18px",color:"#999"}},[a("Icon",{attrs:{type:"ios-cloud-upload-outline",size:"20"}}),a("br"),t._v("上传图片\n        ")],1)]),t._v(" "),a("Modal",{attrs:{title:"图片预览"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[t.visible?a("img",{staticStyle:{width:"100%"},attrs:{src:t.ViewImgUrl}}):t._e()])],2)},staticRenderFns:[]},t.exports.render._withStripped=!0},1022:function(t,e,a){"use strict";(function(t){function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(154),r=s(i),o=a(100),n=s(o),l=a(229),c=s(l),d=a(998),u=s(d),p=a(1088),h=s(p);e.default={name:"edit-goods",components:{noUpFileInput:u.default,multiupload:h.default},props:["param","publicData"],data:function(){var t=this,e=function(t,e,a){""==e?a(new Error(t.message)):a()},a=function(e,a,s){""==a?s(new Error("请选择运费类型")):3===a?t.currentData.carriage>0?s():s(new Error("请填写附加运费金额")):s()};return{uploadAPI:c.default.api.mall.goods.uploadImage,addUploadAPI:c.default.api.mall.goods.uploadImage,editUploadAPI:c.default.api.mall.goods.edituploadImage,removeAPI:c.default.api.mall.goods.deleteImage,product_class:[],product_classs:[],specs_list:[],specs_list_ready:!1,currentData:{},currentQuantity:-1,goods_image:{url:"",file:"",fileObj:"goods_image",fileObjName:"店铺照片",uploadMenu:"选择图片",uploadType:"sync",type:"image",maxSize:2048,isErr:!1},goods_images:{list:[],newlist:[],isErr:!1},goods_images_details:{list:[],newlist:[],isErr:!1},imagesReady:!1,currentSpecsData:{isErr:!1,currentSpecs:[],specs_list_data:[],specs:[],quantityValues:{},specs_childs:[],product_options:[],getchilding:!1,product_option_values:[]},defaultData:{id:"",image:"",name:"",description:"",tag:"",quantity:"",sort_order:"",price:"",logistics_price:"",carriage_type:"",carriage:0,status:"",date_added:"",category_id:"",merchant_id:"",merchant_name:"",return_num:"",comment_num:"",sales_quantity:"",images:[],product_cl:"",product_option_values:[],category:[]},isEditSpecs:!1,upLoadingshopLogo:!1,upLoadingshopImages:!1,FormSubmiting:!1,save_loading:!1,dataReady:3,isDataReady:!1,inforValidate:{name:[{required:!0,message:"请输入商户名称",trigger:"blur"}],tag:[{required:!0,message:"请输入商户标签",trigger:"blur"}],category_id:[{required:!0,validator:e,message:"请选择分类ID",trigger:"change"}],quantity:[{validator:e,message:"请输入商品数量",trigger:"change"}],price:[{validator:e,message:"请输入商品价格",trigger:"change"}],logistics_price:[{validator:e,message:"请输入物流费用",trigger:"change"}],carriage_type:[{validator:a,trigger:"change"}],description:[{required:!0,message:"请输入商品描述",trigger:"blur"}]}}},computed:{},methods:{inArrayValue:function(t,e){var a=!1;return t.forEach(function(t){e===t&&(a=!0)}),a},resetFields:function(){this.currentData=t.extend(!0,{},this.defaultData),this.goods_image={url:"",file:"",fileObj:"goods_image",fileObjName:"商品列表图",uploadMenu:"选择图片",uploadType:"sync",type:"image",maxSize:2048,isErr:!1},this.goods_images={list:[],newlist:[],isErr:!1},this.goods_images_details={list:[],newlist:[],isErr:!1},this.imagesReady=!1,this.currentSpecsData={isErr:!1,currentSpecs:[],specs_list_data:[],specs:[],quantityValues:{},priceValues:{},specs_childs:[],product_options:[],getchilding:!1,product_option_values:[]},this.$refs.userForm.resetFields(),this.$nextTick(function(){this.goods_image.isErr=!1,this.goods_images.isErr=!1,this.goods_images_details.isErr=!1,this.currentSpecsData.isErr=!1})},giveMeFile:function(t){this.currentData.goods_image.file=t},getProductClass:function(){var e=this;t.ajax({url:c.default.api.mall.goods.getClass,type:"POST",dataType:"json",data:{ssid:n.default.get("ssid"),parent_id:0,type:2}}).done(function(t){e.dataReady--,t?0===t.code?e.product_class=t.data:c.default.showError({vm:e,data:t,errorMsg:""}):c.default.showError({vm:e,data:t,errorMsg:"请求失败"})}).fail(function(t,a,s){e.dataReady--,c.default.showError({vm:e,data:data,errorMsg:"服务器通讯失败"})})},product_cl:function(){var e=this;t.ajax({url:c.default.api.mall.goods.getClass,type:"POST",dataType:"json",data:{ssid:n.default.get("ssid"),parent_id:this.currentData.category_id,type:2}}).done(function(t){e.dataReady--,t?0===t.code?e.product_classs=t.data:c.default.showError({vm:e,data:t,errorMsg:""}):c.default.showError({vm:e,data:t,errorMsg:"请求失败"})}).fail(function(t,a,s){e.dataReady--,c.default.showError({vm:e,data:data,errorMsg:"服务器通讯失败"})})},getProductClassParent:function(e){var a=this;t.ajax({url:c.default.api.mall.goods.getClass,type:"POST",dataType:"json",data:{ssid:n.default.get("ssid"),parent_id:e,type:2}}).done(function(t){a.dataReady--,t?0===t.code?a.product_class=t.data:c.default.showError({vm:a,data:t,errorMsg:""}):c.default.showError({vm:a,data:t,errorMsg:"请求失败"})}).fail(function(t,e,s){a.dataReady--,c.default.showError({vm:a,data:data,errorMsg:"服务器通讯失败"})})},testaa:function(){console.log(this.specs_list_data)},changeBgLine:function(t){this.currentQuantity=t},getSpecs:function(){var e=this;t.ajax({url:c.default.api.mall.goods.getSpecs,type:"POST",dataType:"json",data:{ssid:n.default.get("ssid")}}).done(function(t){e.dataReady--,t?0===t.code?(e.specs_list=t.data,e.specs_list_ready=!0):c.default.showError({vm:e,data:t,errorMsg:""}):c.default.showError({vm:e,data:t,errorMsg:"请求失败"})}).fail(function(t,a,s){e.dataReady--,c.default.showError({vm:e,errorMsg:"服务器通讯失败"})})},getSpecsOptions:function(e,a){var s=this;t.ajax({url:c.default.api.mall.goods.getSpecsChilds,type:"POST",dataType:"json",data:{ssid:n.default.get("ssid"),option_id:e}}).done(function(t){t?0===t.code?(s.currentSpecsData.specs_childs[a]=t.data,s.currentSpecsData.sepcs_child_ready--,s.createSpecsArray()):c.default.showError({vm:s,data:t,errorMsg:""}):c.default.showError({vm:s,data:t,errorMsg:"请求失败"})}).fail(function(t,e,a){c.default.showError({vm:s,errorMsg:"服务器通讯失败"})})},setSpecs:function(){this.isEditSpecs=!0},cancelEditSpecs:function(){this.isEditSpecs=!1},setEditSpecs:function(){this.currentData.product_option_values=[];for(var t=0;t<this.currentSpecsData.specs.length;t++)this.currentData.product_option_values.push(this.currentSpecsData.specs[t].name);this.isEditSpecs=!1},getSpecsById:function(t){for(var e=!1,a=0;a<this.specs_list.list.length;a++)this.specs_list.list[a].id===t&&(e=this.specs_list.list[a]);return e},setSpecsValue:function(t){t?(this.currentSpecsData.currentSpecs.length>2&&this.currentSpecsData.currentSpecs.splice(0,1),this.currentSpecsData.currentSpecs.push(t)):this.currentSpecsData.product_options.length>2&&this.currentSpecsData.product_options.splice(0,1),this.setSpecsOptions()},setCurrentSpecsValues:function(t){this.currentSpecsData.currentSpecs.length>2&&this.currentSpecsData.currentSpecs.splice(0,1),this.setSpecsOptions()},setSpecsOptions:function(){if(this.specs_list_ready)if(this.currentSpecsData.sepcs_child_ready=this.currentSpecsData.currentSpecs.length,this.currentSpecsData.currentSpecs.length>=1){this.currentSpecsData.specs=[],this.currentSpecsData.specs_childs=[];for(var t=0;t<this.currentSpecsData.currentSpecs.length;t++)this.currentSpecsData.specs.push(this.getSpecsById(this.currentSpecsData.currentSpecs[t])),this.currentSpecsData.specs_childs.push({}),this.getSpecsOptions(this.currentSpecsData.currentSpecs[t],t)}else this.currentSpecsData.specs=[],this.currentSpecsData.specs_childs=[]},createSpecsArray:function(){if(0===this.currentSpecsData.sepcs_child_ready){var t=1;this.currentSpecsData.specs_childs.length>=2&&this.currentSpecsData.specs_childs[0].length%this.currentSpecsData.specs_childs[1].length==0&&this.currentSpecsData.specs_childs[1].push({id:"0",name:"",option_id:"0"});for(var e=0;e<this.currentSpecsData.specs_childs.length;e++)t*=this.currentSpecsData.specs_childs[e].length;for(var a=new Array(t),s=0;s<this.currentSpecsData.specs_childs.length;s++){var i="";s>0&&(i="_"+(s+1));for(var r=t/this.currentSpecsData.specs_childs[s].length,o=0;o<r;o++)for(var n=0;n<this.currentSpecsData.specs_childs[s].length;n++){var l=o*this.currentSpecsData.specs_childs[s].length+n,c=a[l]||{};c["option_value_id"+i]=this.currentSpecsData.specs_childs[s][n].id,c["option_value_name"+i]=this.currentSpecsData.specs_childs[s][n].name,c["option_name"+i]=this.currentSpecsData.specs[s].name,c["option_id"+i]=this.currentSpecsData.specs[s].id,c.showtext=c.showtext||[],c.quantity=c.quantity||0,c.price=c.price||0,c.showtext.push(this.currentSpecsData.specs[s].name),c.showtext.push(this.currentSpecsData.specs_childs[s][n].name),a[l]=c}}for(var d=this.currentSpecsData.specs.length,u=0;u<a.length;u++){var p=[],h=void 0;if(""!=a[u].option_value_name_2){for(var g=0;g<d;g++)h="",g>0&&(h="_"+(g+1)),a[u]["option_id"+h]&&p.push(a[u]["option_id"+h]),a[u]["option_value_id"+h]&&p.push(a[u]["option_value_id"+h]);p.sort(function(t,e){return t-e}),this.currentSpecsData.quantityValues[p.join("_")]&&(a[u].quantity=this.currentSpecsData.quantityValues[p.join("_")],a[u].price=this.currentSpecsData.priceValues[p.join("_")])}else a.splice(u,1)}this.currentSpecsData.specs_list_data=a}else this.currentSpecsData.specs_list_data=[]},deleteSpecsData:function(t){this.currentSpecsData.specs_list_data.splice(t,1)},setEditSpecsListData:function(){var t=this.param.currentProduct.product_option_values;if(t.length>0)for(var e=0;e<t.length;e++){t[e].option_id&&!this.inArrayValue(this.currentSpecsData.currentSpecs,t[e].option_id)&&(this.currentSpecsData.currentSpecs.push(t[e].option_id),this.currentSpecsData.specs.push(this.getSpecsById(t[e].option_id))),t[e].option_id_2&&!this.inArrayValue(this.currentSpecsData.currentSpecs,t[e].option_id_2)&&(this.currentSpecsData.currentSpecs.push(t[e].option_id_2),this.currentSpecsData.specs.push(this.getSpecsById(t[e].option_id_2))),t[e].showtext=[],t[e].showtext.push(t[e].option_name),t[e].showtext.push(t[e].option_value_name),t[e].option_name_2&&t[e].showtext.push(t[e].option_name_2),t[e].option_value_name_2&&t[e].showtext.push(t[e].option_value_name_2);var a=[];t[e].option_id>0&&a.push(t[e].option_id),t[e].option_value_id>0&&a.push(t[e].option_value_id),t[e].option_id_2>0&&a.push(t[e].option_id_2),t[e].option_value_id_2>0&&a.push(t[e].option_value_id_2),a.sort(function(t,e){return t-e}),this.currentSpecsData.quantityValues[a.join("_")]=t[e].quantity,this.currentSpecsData.priceValues[a.join("_")]=t[e].price}this.currentSpecsData.specs_list_data=t},getProductDetail:function(){if(this.resetFields(),this.param.currentProduct.id){this.uploadAPI=this.editUploadAPI,this.currentData=this.param.currentProduct,this.goods_image.url=this.currentData.image,this.goods_image.url&&(this.goods_image.isErr=!1);var e=[],a=[];this.currentData.banner&&this.currentData.banner.length>0&&this.currentData.banner.forEach(function(t,a){e.push({name:t.image_key,url:t.image,id:t.id,productID:t.product_id,status:"finished"})}),this.currentData.images&&this.currentData.images.length>0&&this.currentData.images.forEach(function(t,e){a.push({name:t.image_key,url:t.image,id:t.id,productID:t.product_id,status:"finished"})}),this.goods_images.list=e,this.goods_images_details.list=a,console.log(a),this.goods_images_details.newlist=t.extend(!0,[],a),this.goods_images.newlist=t.extend(!0,[],e),console.log(a),this.imagesReady=!0,this.setEditSpecsListData(),this.dataReady--}else this.uploadAPI=this.addUploadAPI,this.currentData=t.extend(!0,{},this.defaultData),this.imagesReady=!0,this.dataReady--;this.$refs.userForm.resetFields()},saveEdit:function(){var e=this;this.currentData.id||this.goods_image.file?this.goods_image.isErr=!1:this.goods_image.isErr=!0,this.goods_images_details.newlist.length>0?this.goods_images_details.isErr=!1:this.goods_images_details.isErr=!0,this.goods_images.newlist.length>0?this.goods_images.isErr=!1:this.goods_images.isErr=!0,console.log(this.currentSpecsData.specs_list_data.length),this.currentSpecsData.specs_list_data.length>0?this.currentSpecsData.isErr=!1:this.currentSpecsData.isErr=!0,this.$refs.userForm.validate(function(a){if(a&&!e.goods_image.isErr&&!e.goods_images.isErr&&!e.currentSpecsData.isErr){e.FormSubmiting=!0;var s=new FormData;s.append("ssid",n.default.get("ssid")),s.append("name",e.currentData.name),s.append("quantity",e.currentData.quantity),s.append("tag",e.currentData.tag),s.append("description",e.currentData.description),s.append("price",e.currentData.price),s.append("logistics_price",e.currentData.logistics_price||0),s.append("carriage_type",e.currentData.carriage_type),s.append("carriage",e.currentData.carriage),s.append("category_id",e.currentData.product_cl),e.goods_image.file&&s.append("image",e.goods_image.file);var i=[];if(e.goods_images.newlist.length>0)for(var o=0;o<e.goods_images.newlist.length;o++)i.push(e.goods_images.newlist[o].name);var l=[];if(e.goods_images_details.newlist.length>0)for(var d=0;d<e.goods_images_details.newlist.length;d++)l.push(e.goods_images_details.newlist[d].name);s.append("inof_images",i.join(",")),s.append("content_images",l.join(","));var u=[];if(e.currentSpecsData.specs_list_data.length>0){for(var p=0;p<e.currentSpecsData.specs_list_data.length;p++)u.push({option_id:e.currentSpecsData.specs_list_data[p].option_id,option_value_id:e.currentSpecsData.specs_list_data[p].option_value_id,option_id_2:e.currentSpecsData.specs_list_data[p].option_id_2||0,option_value_id_2:e.currentSpecsData.specs_list_data[p].option_value_id_2||0,quantity:e.currentSpecsData.specs_list_data[p].quantity,price:e.currentSpecsData.specs_list_data[p].price});var h=(0,r.default)(u);h='{"product_option_values":'+h+"}",s.append("product_option_value",h)}var g=c.default.api.mall.goods.add;e.currentData.id&&(g=c.default.api.mall.goods.edit,s.append("id",e.currentData.id)),t.ajax({url:g,type:"POST",dataType:"json",data:s,cache:!1,contentType:!1,processData:!1}).done(function(t){e.FormSubmiting=!1,t?0==t.code?(e.$Message.success("成功保存基本信息！"),e.$emit("doWhat","list")):c.default.showError({vm:e,data:t,errorMsg:""}):c.default.showError({vm:e,data:t,errorMsg:"请求失败"})}).fail(function(t,a,s){e.FormSubmiting=!1,c.default.showError({vm:e,errorMsg:"服务器通讯失败"})})}})},init:function(){this.dataReady=3,this.resetFields(),this.getProductClass(),this.getSpecs()}},mounted:function(){},watch:{"goods_image.file":function(t,e){this.goods_image.isErr=!t},"goods_images.newlist":function(t,e){this.goods_images.newlist.length>0?this.goods_images.isErr=!1:this.goods_images.isErr=!0},"goods_images_details.newlist":function(t,e){this.goods_images_details.newlist.length>0?this.goods_images_details.isErr=!1:this.goods_images_details.isErr=!0},"currentSpecsData.specs_list_data":function(t,e){this.currentSpecsData.specs_list_data.length>0?this.currentSpecsData.isErr=!1:this.currentSpecsData.isErr=!0},dataReady:function(t){1===t&&this.getProductDetail(),0===t&&(this.isDataReady=!0)}},created:function(){this.currentData=t.extend(!0,{},this.defaultData)},activated:function(){this.dataReady=3,this.init()}}}).call(e,a(230))},1023:function(t,e,a){"use strict";(function(t){function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(229),r=s(i),o=a(116),n=s(o),l=a(100),c=s(l);e.default={name:"goods-list",data:function(){var t=this,e=function(e,a,s){1==a||2==a?2==a?""!=!!t.updateStatusForm.express_number?s():s(new Error("已发货状态必须填写快递单号！")):s():s(new Error("请选择发货状态"))};return{autowidthtable:"autowidthtable",listType:"",columns:[{title:"商品ID",width:80,align:"center",key:"id"},{title:"上架时间",align:"center",width:130,key:"date_added"},{title:"商品名称",align:"center",key:"name"},{title:"价格",align:"center",key:"price"},{title:"评论数量",align:"right",key:"comment_num"},{title:"退款数量",align:"right",key:"return_num"},{title:"销量",align:"right",key:"sales_quantity"},{title:"余下库存",key:"quantity",align:"center"},{title:"审核状态",key:"status",width:80,align:"center",render:function(t,e){var a="default",s="未审核";return 1==e.row.status&&(a="green",s="通过"),2==e.row.status&&(a="red",s="拒绝"),t("Tag",{props:{color:a,size:"small"}},s)}},{title:"操作",key:"id",width:70,align:"center",render:function(e,a){var s=e("Button",{props:{type:"primary",size:"small"},on:{click:function(){t.showEdit(a.index)}}},"编辑"),i=e("Button",{props:{type:"default",size:"small"},on:{click:function(){t.updateStatus(a.index)}}},"下架"),r=[];return 1!=a.row.status&&r.push(s),1==a.row.status&&r.push(i),e("div",r)}}],saveType:"new",tableData:[],page:{dataCount:0,pageCount:0,pageSize:10,pageNumber:1,pageSizeOpts:[10,20,50,100]},getLoading:!1,currentData:{id:0,order_no:"",merchant_id:0,member_name:"",total_score:1,status:1,date_added:"",cash:0,score:0},searchData:{keyword:"",searchDate:[],startDate:"",endDate:"",payStatus:"",shipStatus:""},searchValidata:{},updateStatusForm:{},updateStatusValidate:{ship_status:[{required:!0,validator:e,trigger:"blur"}]}}},methods:{showEdit:function(e){var a=t.extend(!0,{},this.tableData[e]);this.$emit("doWhat","edit",a)},cancelEdit:function(){this.updateStatusForm={},this.updateStatus=!1},updateStatus:function(e){var a=this,s={ssid:c.default.get("ssid"),id:this.tableData[e].id};t.ajax({url:r.default.api.mall.goods.offline,type:"POST",dataType:"json",data:s}).done(function(t){t?0==t.code?a.init():r.default.showError({vm:a,data:t,errorMsg:""}):r.default.showError({vm:a,data:t,errorMsg:"请求失败"})}).fail(function(t,e,s){r.default.showError({vm:a,errorMsg:"服务器通讯失败"})})},changePage:function(t){this.page.pageNumber=t,this.search(t)},changePageSize:function(t){this.page.pageSize=t,this.page.pageCount=Math.ceil(this.page.dataCount/this.page.pageSize),this.search()},search:function(t){this.searchData.searchDate.length&&(this.searchData.startDate=n.default.FormatDate(this.searchData.searchDate[0],"yyyy-MM-dd"),this.searchData.endDate=n.default.FormatDate(this.searchData.searchDate[1],"yyyy-MM-dd")),this.page.pageNumber=1,console.log(t),t&&(this.page.pageNumber=t),this.init()},changeListType:function(t){this.listType==t?this.listType="":this.listType=t,this.init()},init:function(){var e=this;this.getLoading=!0;var a={ssid:c.default.get("ssid"),page:this.page.pageNumber,pageSize:this.page.pageSize};""!=this.listType&&(a.status="used"===this.listType?1:0),""!=this.searchData.keyword&&(a.name=this.searchData.keyword),""!=this.searchData.endDate&&(a.endDate=this.searchData.endDate),t.ajax({url:r.default.api.mall.goods.list,type:"POST",dataType:"json",data:a}).done(function(t){e.getLoading=!1,t?0==t.code?(e.page.dataCount=t.data.count,e.page.pageCount=Math.ceil(e.page.dataCount/e.page.pageSize),e.tableData=t.data.list):r.default.showError({vm:e,data:t,errorMsg:""}):r.default.showError({vm:e,data:t,errorMsg:"请求失败"})}).fail(function(t,a,s){e.getLoading=!1,r.default.showError({vm:e,data:data,errorMsg:"服务器通讯失败"})})}},mounted:function(){},activated:function(){this.init()}}}).call(e,a(230))},1024:function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(229),r=(s(i),a(116)),o=(s(r),a(100)),n=(s(o),a(1087)),l=s(n),c=a(1086),d=s(c),u=a(1006),p=s(u);e.default={name:"agents_list",components:{goodsList:l.default,editGoods:d.default,multiupload:p.default},data:function(){return{doType:"list",switching:!1,publicData:{product_status:["未审核","审核通过","拒绝"],carriage_type:["未知","包邮","全国统一邮费","新疆、西藏用户需附加邮费"]},dataReady:0,areaData:{areaDataReady:3,province:[],citys:[],district:[]},paramData:{currentProduct:{}},currentView:"goodsList"}},computed:{doName:function(){return"list"==this.doType?"商品管理":"edit"==this.doType?"编辑商品":"add"==this.doType?"添加商品":"商品管理"}},methods:{checkPower:function(t){return!0},doWhat:function(t,e){if(!this.checkPower(t))return void this.$Message.warning("对不起，您没有此操作权限！");this.switching=!0,"add"==t&&(this.paramData.currentProduct={},this.currentView="editGoods",this.doType="add"),"edit"==t&&(console.log(e),this.paramData.currentProduct=e,this.currentView="editGoods",this.doType="edit"),"list"==t&&(this.currentView="goodsList",this.doType="list"),this.switching=!1},resetCurrentData:function(){this.paramData={}}},mounted:function(){},activated:function(){this.doWhat("list",this.paramData)}}},1030:function(t,e,a){"use strict";(function(t){function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(100),r=s(i),o=a(229),n=s(o);e.default={name:"multiuploadforproduct",data:function(){return{ViewImgUrl:"",visible:!1,uploadList:[],defaultList:[],newFile:"",uploadName:"image"}},props:["imagesList","uploadAPI","removeAPI","uploadModel","productID","ImageType"],computed:{OimagesList:function(){return this.imagesList},otherFormData:function(){return{ssid:r.default.get("ssid"),product_id:this.productID,type:this.ImageType}}},methods:{handleView:function(t){this.ViewImgUrl=t.url,this.visible=!0},handleRemove:function(e){var a=this;console.log(e);var s=this;t.ajax({url:s.removeAPI,type:"POST",dataType:"json",data:{ssid:r.default.get("ssid"),image:e.name,type:this.ImageType}}).done(function(t){if(t){var s=a.uploadList;a.uploadList.splice(s.indexOf(e),1),0==t.code||n.default.showError({vm:a,data:t,errorMsg:""})}else n.default.showError({vm:a,data:t,errorMsg:"请求失败"})}).fail(function(t,e,s){n.default.showError({vm:a,errorMsg:"服务器通讯失败"})})},handleSuccess:function(t,e,a){e.name=t.data,this.uploadList=this.$refs.upload.fileList,this.uploadList[this.uploadList.length-1].url=this.newFile,this.uploadModel.newlist=this.uploadList},handleFormatError:function(t){this.$Notice.warning({title:"文件格式不正确",desc:"文件 "+t.name+" 格式不正确,请选择图片文件。"})},handleMaxSize:function(t){this.$Notice.warning({title:"文件过大",desc:"上传文件："+t.name+" 过大，请不要超过"+this.bytesToSize(1024*this.file_infro.maxSize)})},handleBeforeUpload:function(t){var e=this,a=this.uploadList.length<10;if(!a)return this.$Notice.warning({title:"最多只能上传5张图片"}),!1;if(window.FileReader&&t){var s=new FileReader;s.onloadend=function(t){e.newFile=t.target.result},s.readAsDataURL(t)}return a},bytesToSize:function(t){if(0===t)return"0 B";var e=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.floor(Math.log(t)/Math.log(1024));return(t/Math.pow(1024,a)).toPrecision(3)+" "+e[a]}},mounted:function(){console.log(),this.uploadList=this.$refs.upload.fileList}}}).call(e,a(230))},1047:function(t,e){},1055:function(t,e){},1069:function(t,e){},1070:function(t,e){},1086:function(t,e,a){a(1069);var s=a(65)(a(1022),a(1113),null,null);s.options.__file="E:\\BigCousin\\document\\预购宝\\merchant\\src\\views\\mall\\edit-goods.vue",s.esModule&&Object.keys(s.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),s.options.functional&&console.error("[vue-loader] edit-goods.vue: functional components are not supported with templates, they should use render functions."),t.exports=s.exports},1087:function(t,e,a){a(1055);var s=a(65)(a(1023),a(1096),null,null);s.options.__file="E:\\BigCousin\\document\\预购宝\\merchant\\src\\views\\mall\\goods-list.vue",s.esModule&&Object.keys(s.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),s.options.functional&&console.error("[vue-loader] goods-list.vue: functional components are not supported with templates, they should use render functions."),t.exports=s.exports},1088:function(t,e,a){a(1047);var s=a(65)(a(1030),a(1107),null,null);s.options.__file="E:\\BigCousin\\document\\预购宝\\merchant\\src\\views\\my_components\\upload\\multiuploadforproduct.vue",s.esModule&&Object.keys(s.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),s.options.functional&&console.error("[vue-loader] multiuploadforproduct.vue: functional components are not supported with templates, they should use render functions."),t.exports=s.exports},1096:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ordler-list"},[a("div",{staticClass:"search-box"},[a("Form",{ref:"searchData",attrs:{model:t.searchData,rules:t.searchValidata,inline:""}},[a("FormItem",{attrs:{prop:"keyword"}},[a("ButtonGroup",[a("Button",{attrs:{type:"used"==t.listType?"primary":"ghost"},on:{click:function(e){t.changeListType("used")}}},[t._v("已上架商品")]),t._v(" "),a("Button",{attrs:{type:"non-used"==t.listType?"primary":"ghost"},on:{click:function(e){t.changeListType("non-used")}}},[t._v("未上架商品")])],1)],1),t._v(" "),a("FormItem",{attrs:{prop:"keyword"}},[a("Input",{attrs:{type:"text",placeholder:"输入商品名称搜索"},model:{value:t.searchData.keyword,callback:function(e){t.$set(t.searchData,"keyword",e)},expression:"searchData.keyword"}},[a("Icon",{attrs:{slot:"prepend",type:"ios-eye"},slot:"prepend"})],1)],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary",icon:"search"},on:{click:function(e){t.search()}}},[t._v("搜索")])],1)],1)],1),t._v(" "),a("Table",{staticClass:"auto-width-table",attrs:{border:"",columns:t.columns,loading:t.getLoading,data:t.tableData}}),t._v(" "),a("div",{staticClass:"page-box"},[t.page.pageCount>1?a("Page",{attrs:{total:t.page.dataCount,current:t.page.pageNumber,"show-total":"","page-size-opts":t.page.pageSizeOpts,"page-size":t.page.pageSize,"show-elevator":"",placement:"top","show-sizer":""},on:{"on-change":t.changePage,"on-page-size-change":t.changePageSize}}):t._e()],1)],1)},staticRenderFns:[]},t.exports.render._withStripped=!0},1107:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"multiupload"},[t._l(t.uploadList,function(e){return a("div",{staticClass:"uploads-upload-list"},["finished"===e.status?[a("img",{attrs:{src:e.url}}),t._v(" "),a("div",{staticClass:"uploads-upload-list-cover"},[a("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(a){t.handleView(e)}}}),t._v(" "),a("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(a){t.handleRemove(e)}}})],1)]:[e.showProgress?a("Progress",{attrs:{percent:e.percentage,"hide-info":""}}):t._e()]],2)}),t._v(" "),a("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"58px"},attrs:{"show-upload-list":!1,"default-file-list":t.OimagesList,"on-success":t.handleSuccess,format:["jpg","jpeg","png"],"max-size":2048,data:t.otherFormData,"on-format-error":t.handleFormatError,"on-exceeded-size":t.handleMaxSize,"before-upload":t.handleBeforeUpload,multiple:"",type:"drag",action:t.uploadAPI,name:t.uploadName}},[a("div",{staticStyle:{width:"58px",height:"58px","padding-top":"10px","line-height":"18px",color:"#999"}},[a("Icon",{attrs:{type:"ios-cloud-upload-outline",size:"20"}}),a("br"),t._v("上传图片\n        ")],1)]),t._v(" "),a("Modal",{attrs:{title:"图片预览"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[t.visible?a("img",{staticStyle:{width:"100%"},attrs:{src:t.ViewImgUrl}}):t._e()])],2)},staticRenderFns:[]},t.exports.render._withStripped=!0},1113:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.FormSubmiting?a("Spin",{attrs:{fix:""}},[a("Icon",{staticClass:"spin-icon-load",attrs:{type:"load-c",size:"18"}}),t._v(" "),a("div",[t._v("保存中，请稍等...")])],1):t._e(),t._v(" "),a("Form",{ref:"userForm",attrs:{model:t.currentData,"label-width":130,"label-position":"right",rules:t.inforValidate}},[t.isDataReady?t._e():a("Spin",{attrs:{size:"large",fix:""}}),t._v(" "),t.isDataReady?a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"商品名称：",prop:"name"}},[a("div",{staticStyle:{display:"inline-block",width:"300px"}},[a("Input",{attrs:{placeholder:"商品名称"},model:{value:t.currentData.name,callback:function(e){t.$set(t.currentData,"name",e)},expression:"currentData.name"}})],1)]),t._v(" "),a("FormItem",{attrs:{label:"商品标签：",prop:"tag"}},[a("div",{staticStyle:{display:"inline-block",width:"300px"}},[a("Input",{attrs:{placeholder:"商品标签"},model:{value:t.currentData.tag,callback:function(e){t.$set(t.currentData,"tag",e)},expression:"currentData.tag"}})],1)]),t._v(" "),a("FormItem",{attrs:{label:"商品分类：",prop:"category_id"}},[a("div",{staticStyle:{display:"inline-block",width:"300px"}},[a("Select",{staticStyle:{width:"145px"},attrs:{placeholder:"选择类型"},on:{"on-change":t.product_cl},model:{value:t.currentData.category_id,callback:function(e){t.$set(t.currentData,"category_id",e)},expression:"currentData.category_id"}},[t._l(t.product_class,function(e,s){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v("  "+t._s(e.name))])})],2),t._v(" "),a("Select",{staticStyle:{width:"145px"},attrs:{placeholder:""},model:{value:t.currentData.product_cl,callback:function(e){t.$set(t.currentData,"product_cl",e)},expression:"currentData.product_cl"}},[t._l(t.product_classs,function(e,s){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v("  "+t._s(e.name))])})],2)],1)]),t._v(" "),a("FormItem",{attrs:{label:"上架数量：",prop:"quantity"}},[a("div",{staticStyle:{display:"inline-block",width:"300px"}},[a("Input",{attrs:{placeholder:"上架数量"},model:{value:t.currentData.quantity,callback:function(e){t.$set(t.currentData,"quantity",e)},expression:"currentData.quantity"}})],1)]),t._v(" "),a("FormItem",{attrs:{label:"商品列表图："}},[a("noUpFileInput",{attrs:{fileInfro:t.goods_image,uploadModel:t.goods_image},on:{updateData:t.giveMeFile}}),t._v(" "),t.goods_image.isErr?a("div",{staticClass:"ivu-form-item-error-tip"},[t._v("请设置商品列表图")]):t._e()],1),t._v(" "),a("FormItem",{attrs:{label:"商品轮播图："}},[t.imagesReady?a("multiupload",{attrs:{imagesList:t.goods_images.list,productID:t.currentData.id,uploadAPI:t.uploadAPI,ImageType:1,removeAPI:t.removeAPI,uploadModel:t.goods_images}}):t._e(),t._v(" "),t.goods_images.isErr?a("div",{staticClass:"ivu-form-item-error-tip"},[t._v("请上传商品轮播图")]):t._e()],1)],1),t._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"商品规格："}},[t._l(t.currentSpecsData.specs,function(e){return[a("Tag",[t._v(t._s(e.name))])]}),t._v(" "),a("Button",{staticStyle:{width:"100px"},attrs:{type:"success"},on:{click:t.setSpecs}},[t._v("设置规格")]),t._v(" "),t.currentSpecsData.isErr?a("div",{staticClass:"ivu-form-item-error-tip"},[t._v("请输入商品价格")]):t._e()],2),t._v(" "),a("FormItem",{attrs:{label:"商品价格：",prop:"price"}},[a("div",{staticStyle:{display:"inline-block",width:"300px"}},[a("Input",{attrs:{placeholder:"商品价格"},model:{value:t.currentData.price,callback:function(e){t.$set(t.currentData,"price",e)},expression:"currentData.price"}})],1)]),t._v(" "),1!==t.currentData.carriage_type?a("FormItem",{attrs:{label:"物流费用：",prop:"logistics_price"}},[a("div",{staticStyle:{display:"inline-block",width:"300px"}},[a("Input",{attrs:{placeholder:"物流费用"},model:{value:t.currentData.logistics_price,callback:function(e){t.$set(t.currentData,"logistics_price",e)},expression:"currentData.logistics_price"}})],1)]):t._e(),t._v(" "),a("FormItem",{attrs:{label:"物流类型：",prop:"carriage_type"}},[a("RadioGroup",{model:{value:t.currentData.carriage_type,callback:function(e){t.$set(t.currentData,"carriage_type",e)},expression:"currentData.carriage_type"}},[t._l(t.publicData.carriage_type,function(e,s){return s>0?[3===s?a("div",{staticClass:"clearfix"}):t._e(),t._v(" "),a("Radio",{attrs:{label:s}},[a("span",[t._v(t._s(e))])])]:t._e()}),t._v(" "),3===t.currentData.carriage_type?a("div",{staticStyle:{display:"inline-block",width:"70px"}},[a("Input",{attrs:{placeholder:"附加费用"},model:{value:t.currentData.carriage,callback:function(e){t.$set(t.currentData,"carriage",e)},expression:"currentData.carriage"}})],1):t._e()],2)],1)],1)],1):t._e(),t._v(" "),a("FormItem",{attrs:{label:"商品描述：",prop:"description"}},[a("Input",{attrs:{type:"textarea",rows:4},model:{value:t.currentData.description,callback:function(e){t.$set(t.currentData,"description",e)},expression:"currentData.description"}})],1),t._v(" "),a("FormItem",{attrs:{label:"商品详情图："}},[t.imagesReady?a("multiupload",{attrs:{imagesList:t.goods_images_details.list,productID:t.currentData.id,uploadAPI:t.uploadAPI,ImageType:2,removeAPI:t.removeAPI,uploadModel:t.goods_images_details}}):t._e()],1),t._v(" "),a("FormItem",[a("Button",{staticStyle:{width:"100px"},attrs:{type:"primary",loading:t.save_loading},on:{click:t.saveEdit}},[t._v("保存")])],1)],1),t._v(" "),a("Modal",{attrs:{closable:!1,"mask-closable":!1,width:600},model:{value:t.isEditSpecs,callback:function(e){t.isEditSpecs=e},expression:"isEditSpecs"}},[a("h3",{staticStyle:{color:"#2D8CF0"},attrs:{slot:"header"},slot:"header"},[t._v("设置商品规格")]),t._v(" "),a("div",{staticClass:"specs-box"},[a("CheckboxGroup",{on:{"on-change":t.setCurrentSpecsValues},model:{value:t.currentSpecsData.currentSpecs,callback:function(e){t.$set(t.currentSpecsData,"currentSpecs",e)},expression:"currentSpecsData.currentSpecs"}},[t._l(t.specs_list.list,function(e,s){return[a("Checkbox",{attrs:{label:e.id}},[t._v(t._s(e.name))])]})],2)],1),t._v(" "),t.currentSpecsData.specs_list_data.length>0?a("div",{staticClass:"specs-data-box"},[t._l(t.currentSpecsData.specs_list_data,function(e,s){return[a("Row",{staticClass:"sepcs-data-items",class:{currentQuantity:t.currentQuantity===s}},[a("Col",{attrs:{span:"12"}},[t._l(e.showtext,function(s,i){return[i%2==0?a("Tag",[t._v(t._s(e.showtext[i])+"："+t._s(e.showtext[i+1]))]):t._e()]})],2),t._v(" "),a("Col",{staticStyle:{"text-align":"right"},attrs:{span:"12"}},[a("div",{staticStyle:{display:"inline-block",width:"120px"}},[a("Input",{attrs:{size:"small"},on:{"on-focus":function(e){t.changeBgLine(s)}},model:{value:t.currentSpecsData.specs_list_data[s].quantity,callback:function(e){t.$set(t.currentSpecsData.specs_list_data[s],"quantity",e)},expression:"currentSpecsData.specs_list_data[key].quantity"}},[a("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("库存")])])],1),t._v(" "),a("div",{staticStyle:{display:"inline-block",width:"120px"}},[a("Input",{attrs:{size:"small"},on:{"on-focus":function(e){t.changeBgLine(s)}},model:{value:t.currentSpecsData.specs_list_data[s].price,callback:function(e){t.$set(t.currentSpecsData.specs_list_data[s],"price",e)},expression:"currentSpecsData.specs_list_data[key].price"}},[a("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("价格")])])],1),t._v(" "),a("Button",{staticStyle:{display:"inline-block",float:"right","margin-left":"5px"},attrs:{type:"default",shape:"circle",size:"small",icon:"close-round"},on:{click:function(e){t.deleteSpecsData(s)}}})],1)],1)]})],2):t._e(),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"text"},on:{click:t.cancelEditSpecs}},[t._v("取消")]),t._v(" "),a("Button",{attrs:{type:"primary"},on:{click:t.setEditSpecs}},[t._v("保存设置")])],1)])],1)},staticRenderFns:[]},t.exports.render._withStripped=!0},1115:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Card",[a("p",{staticClass:"hasButtonP",attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{type:"compose"}}),t._v("\n            "+t._s(t.doName)+"\n            "),t.checkPower("list")&&"list"!=t.doType?a("Button",{staticClass:"add-btu margin-left-10",attrs:{type:"warning",size:"small"},on:{click:function(e){t.doWhat("list")}}},[t._v("返回商品列表\n            ")]):t._e(),t._v(" "),t.checkPower("add")&&"list"==t.doType?a("Button",{staticClass:"add-btu margin-left-10",attrs:{type:"warning",size:"small"},on:{click:function(e){t.doWhat("add")}}},[t._v("添加商品\n            ")]):t._e()],1),t._v(" "),a("div",{staticClass:"doBox"},[t.switching?a("Spin",{attrs:{size:"large",fix:""}}):t._e(),t._v(" "),a("keep-alive",[a(t.currentView,{tag:"component",attrs:{param:t.paramData,publicData:t.publicData},on:{doWhat:t.doWhat}})],1)],1)])],1)},staticRenderFns:[]},t.exports.render._withStripped=!0},977:function(t,e,a){a(1070);var s=a(65)(a(1024),a(1115),null,null);s.options.__file="E:\\BigCousin\\document\\预购宝\\merchant\\src\\views\\mall\\goods.vue",s.esModule&&Object.keys(s.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),s.options.functional&&console.error("[vue-loader] goods.vue: functional components are not supported with templates, they should use render functions."),t.exports=s.exports},996:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"noUpFileInput",data:function(){return{uploadApi:"",imgName:"",newFilePath:"",fileData:"",visible:!1,upLoading:!1,fileType:{image:/\.(gif|jpg|jpeg|png)$/,rar:/\.(rar|zip|7z)$/,txt:/\.(doc|docx|pdf|xsl|xslx|ppt|pptx|txt)$/,music:/\.(mp3|mp4|wma)$/}}},props:["fileInfro"],computed:{FilePath:function(){return this.newFilePath?this.newFilePath:this.fileInfro.url},file_infro:function(){return"Object"==typeof this.fileInfro?{uploadApi:this.fileInfro.uploadApi||this.uploadApi,url:this.fileInfro.url||"",fileObj:this.fileInfro.fileObj||"uploadFile",fileObjName:this.fileInfro.fileObjName||"图片",uploadMenu:this.fileInfro.uploadMenu||"选择图片",uploadType:this.fileInfro.uploadType||"sync",type:this.fileInfro.type||"image",maxSize:this.fileInfro.maxSize?this.fileInfro.maxSize:2048}:{url:"",fileObj:"uploadFile",fileObjName:"图片",uploadMenu:"选择图片",uploadType:"sync",type:"image",maxSize:2048}}},methods:{handleView:function(){this.imgName=this.file_infro.fileObjName,this.visible=!0},selectFile:function(){this.$refs.fileObj.click()},handleFormatError:function(t){this.upLoading=!1,this.$Notice.warning({title:"文件类型错误",desc:"上传文件："+t.name+" 文件类型不正确"})},handleMaxSize:function(t){this.upLoading=!1,this.$Notice.warning({title:"文件过大",desc:"上传文件："+t.name+" 过大，请不要超过"+this.bytesToSize(1024*this.file_infro.maxSize)})},handleGetFile:function(){var t=this.$refs.fileObj.files[0];if(t){var e=t.name.substr(t.name.lastIndexOf(".")).toLowerCase();if(!this.fileType[this.file_infro.type].test(e))return this.handleFormatError(t),!1;if(Math.round(t.size/1024*100)/100>this.file_infro.maxSize)return this.handleMaxSize(t),!1;this.imgName=t.name,this.showPreview(t),this.fileInfro.file=t}},showPreview:function(t){var e=this;if(window.FileReader&&t){var a=new FileReader;a.onloadend=function(t){e.newFilePath=t.target.result},a.readAsDataURL(t)}},bytesToSize:function(t){if(0===t)return"0 B";var e=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.floor(Math.log(t)/Math.log(1024));return(t/Math.pow(1024,a)).toPrecision(3)+" "+e[a]}}}},997:function(t,e){},998:function(t,e,a){a(997);var s=a(65)(a(996),a(999),null,null);s.options.__file="E:\\BigCousin\\document\\预购宝\\merchant\\src\\views\\my_components\\upload\\noUpFileInput.vue",s.esModule&&Object.keys(s.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),s.options.functional&&console.error("[vue-loader] noUpFileInput.vue: functional components are not supported with templates, they should use render functions."),t.exports=s.exports},999:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"noUpFileInput"},[t.FilePath&&"image"==t.fileInfro.type?a("div",{staticClass:"noUpFileInput-filebox"},[a("img",{staticClass:"re-noUpFileInput-images",attrs:{src:t.FilePath,width:"auto",height:"58"},on:{click:function(e){t.handleView()}}})]):t._e(),t._v(" "),a("input",{ref:"fileObj",staticClass:"noup-file-Input",attrs:{type:"file"},on:{change:function(e){t.handleGetFile()}}}),t._v(" "),t.imgName?a("span",{staticClass:"noUpFileInput-newfile-name"},[t._v(t._s(t.imgName))]):t._e(),t._v(" "),a("Button",{attrs:{type:"ghost",icon:"ios-cloud-upload-outline"},on:{click:t.selectFile}},[t._v(t._s(t.file_infro.uploadMenu))]),t._v(" "),a("Modal",{attrs:{title:"图片预览","cancel-text":"关闭"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[t.visible?a("img",{staticStyle:{width:"100%"},attrs:{src:t.FilePath}}):t._e()])],1)},staticRenderFns:[]},t.exports.render._withStripped=!0}});